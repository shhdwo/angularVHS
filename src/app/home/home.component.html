
<h4>Tapes listing <span data-toggle="modal" data-target="#addTapeModal" class="glyphicon glyphicon-plus" aria-hidden="true"></span> add new tape</h4>
<form id="filter" class="navbar-form navbar-left">
  <div class="form-group">
    <label>Filter by title: </label>
    <input name="title" type="text" class="form-control" [(ngModel)]="term" />
  </div>
</form>
<table class="table table-hover">
  <thead>
    <tr>
      <th>id</th>
      <th>title</th>
      <th>release date</th>
      <th>rating</th>
      <th>status</th>
      <th>info</th>
      <th>rent</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let tape of dataService.tapes | filter: term">
      <td>{{tape.id}}</td>
      <td>{{tape.title}}</td>
      <td>{{tape.year}}</td>
      <td>{{tape.rating}} <span class="glyphicon glyphicon-star" aria-hidden="true"></span></td>
      <td>{{tape.status}}</td>
      <td><span (click)="selectTape(tape)" data-toggle="modal" data-target="#tapeInfoModal" class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></td>
      <td><span *ngIf="tape.status == 'free'" (click)="selectTape(tape)" data-toggle="modal" data-target="#borrowTapeModal" class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span></td>
    </tr>
  </tbody>
</table>

<app-details [tape]="selectedTape"></app-details>
<app-borrow-modal [tape]="selectedTape"></app-borrow-modal>

<!-- Add new modal -->
<div class="modal fade" id="addTapeModal" role="dialog">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add new tape</h4>
      </div>
      <div class="modal-body">
        <!-- Add tape form -->
        <form id="add-tape" class="navbar-form navbar-left">
          <div>
            <label>Title: </label>
            <input name="title" type="text" class="form-control" [(ngModel)]="title" />
            <label>Release date: </label>
            <input name="year" type="text" class="form-control" [(ngModel)]="year" />
            <label>Link to image: </label>
            <input name="image" type="text" class="form-control" [(ngModel)]="image" />
          </div>
          <div>
            <label>Description: </label>
            <textarea name="description" class="form-control" rows="5" id="comment" [(ngModel)]="description"></textarea>
          </div>
          <button class="btn btn-warning" (click)="addTape(title, year, image, description)">Add tape</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
